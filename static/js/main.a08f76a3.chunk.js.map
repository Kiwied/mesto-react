{"version":3,"sources":["components/header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/Api.js","utils/utils.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","link","name","type","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","currentCard","key","Footer","PopupWithForm","useEffect","handleOverlayClose","evt","target","classList","contains","onClose","document","getElementById","addEventListener","removeEventListener","isOpen","id","onSubmit","noValidate","title","children","button","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","preventDefault","onUpdateUser","placeholder","value","onChange","minLength","maxLength","pattern","required","EditAvatarPopup","urlRef","useRef","current","onAvatarUpdate","ref","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponseData","method","body","JSON","stringify","cardId","authorization","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserInfo","catch","err","console","log","setCards","getInitialCards","Provider","dislike","like","likedCard","newCards","delete","filter","newUserInfo","setNewUserInfo","data","newCardInfo","addNewCard","newCard","setNewAvatar","ReactDOM","render","StrictMode","module","exports"],"mappings":"sOAGe,SAASA,IACpB,OACI,4BAAQC,UAAU,UACd,yBAAKC,IAAKC,IACLC,IAAI,8FACJH,UAAU,kBCNpB,IAAMI,EAAqBC,IAAMC,gBCCzB,SAASC,EAAKC,GAC3B,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,0BAC7BJ,EAAQ,GAAK,0BAGTK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DM,EAAuB,wBAC3BJ,EAAU,uBAAyB,IAcrC,OACI,wBAAIhB,UAAU,WACZ,yBAAKA,UAAU,iBACVqB,QAfX,WACEb,EAAMc,YAAYd,EAAMI,OAefX,IAAKO,EAAMI,KAAKW,KAChBpB,IAAG,mCAAUK,EAAMI,KAAKY,QAE7B,yBAAKxB,UAAU,yBACb,wBAAIA,UAAU,kBAAkBQ,EAAMI,KAAKY,MAC3C,yBAAKxB,UAAU,kBACb,4BAAQyB,KAAK,SACLzB,UAAWoB,EACXC,QApBlB,WACEb,EAAMkB,WAAWlB,EAAMI,SAqBf,uBAAGZ,UAAU,yBAAyBQ,EAAMI,KAAKK,MAAMU,UAG3D,4BAAQF,KAAK,SACLzB,UAAWe,EACXM,QAvBd,WACEb,EAAMoB,aAAapB,EAAMI,UCpBd,SAASiB,EAAKrB,GAC3B,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,8BACE,6BAASJ,UAAU,WACjB,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,4BACVqB,QAASb,EAAMsB,cAClB,yBACE3B,IAAI,kFACJH,UAAU,kBACVC,IAAKQ,EAAYsB,SAEnB,yBAAK/B,UAAU,6BAEjB,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,iBAAiBS,EAAYe,MAC3C,4BACEH,QAASb,EAAMwB,cACfP,KAAK,SACLzB,UAAU,mBAGd,uBAAGA,UAAU,wBAAwBS,EAAYwB,SAGrD,4BACEZ,QAASb,EAAM0B,WACfT,KAAK,SACLzB,UAAU,kBAId,iCACE,wBAAIA,UAAU,YACXQ,EAAM2B,MAAMC,KAAI,SAAAC,GAAW,OAC1B,kBAAC9B,EAAD,CACEK,KAAMyB,EACNC,IAAKD,EAAYvB,IACjBQ,YAAad,EAAMc,YACnBI,WAAYlB,EAAMkB,WAClBE,aAAcpB,EAAMoB,qBC7CnB,SAASW,IACtB,OACI,4BAAQvC,UAAU,UAChB,uBAAGA,UAAU,qBAAb,2BCHO,SAASwC,EAAchC,GAmBpC,OAlBAH,IAAMoC,WAAU,WACd,SAASC,EAAmBC,GACtBA,EAAIC,OAAOC,UAAUC,SAAS,iBAChCtC,EAAMuC,QAAQJ,GAQlB,OAJAK,SACGC,eADH,iBAC4BzC,EAAMgB,OAC/B0B,iBAAiB,QAASR,GAEvB,WACJM,SACGC,eADH,iBAC4BzC,EAAMgB,OAC/B2B,oBAAoB,QAAST,MAEjC,IAGC,6BACE1C,UAAS,gBAAWQ,EAAM4C,QAAU,gBACpCC,GAAE,iBAAY7C,EAAMgB,OAEpB,0BAAMxB,UAAU,OACVsD,SAAU9C,EAAM8C,SAChBC,YAAU,GAEd,wBAAIvD,UAAU,eAAeQ,EAAMgD,OAClChD,EAAMiD,SACP,4BAAQhC,KAAK,SACLD,KAAMhB,EAAMkD,OACZ1D,UAAU,cAEfQ,EAAMkD,QAET,4BAAQrC,QAASb,EAAMuC,QACftB,KAAK,SACLzB,UAAU,mBCtCb,SAAS2D,EAAWnD,GAmBjC,OAlBAH,IAAMoC,WAAU,WACd,SAASC,EAAmBC,GACtBA,EAAIC,OAAOC,UAAUC,SAAS,iBAChCtC,EAAMuC,QAAQJ,GAQlB,OAJAK,SACGC,eAAe,mBACfC,iBAAiB,QAASR,GAEvB,WACJM,SACGC,eAAe,mBACfE,oBAAoB,QAAST,MAEjC,IAGC,6BAAS1C,UAAS,gBAAWQ,EAAM4C,QAAU,gBACpCC,GAAG,mBACV,yBAAKrD,UAAU,mBACb,yBAAKA,UAAU,eACVC,IAAKO,EAAMI,KAAKW,KAChBpB,IAAKK,EAAMI,KAAKY,OACrB,uBAAGxB,UAAU,gBAAgBQ,EAAMI,KAAKY,MACxC,4BAAQC,KAAK,SACLzB,UAAU,eACVqB,QAASb,EAAMuC,YC3BlB,SAASa,EAAiBpD,GAAQ,IAAD,EACtBH,IAAMwD,SAAS,IADO,mBACvCrC,EADuC,KACjCsC,EADiC,OAERzD,IAAMwD,SAAS,IAFP,mBAEvCE,EAFuC,KAE1BC,EAF0B,KAIxCvD,EAAcJ,IAAMK,WAAWN,GAyBrC,OAvBAC,IAAMoC,WAAU,WACdqB,EAAQrD,EAAYe,MACpBwC,EAAevD,EAAYwB,SAC1B,CAACxB,IAqBF,kBAAC+B,EAAD,CACEY,OAAQ5C,EAAM4C,OACdL,QAASvC,EAAMuC,QACfO,SAbJ,SAAsBX,GACpBA,EAAIsB,iBAEJzD,EAAM0D,aAAa,CACjB1C,KAAMA,EACNS,MAAO8B,KASPvC,KAAK,UACLgC,MAAM,4HACNE,OAAO,yDACPD,SACE,oCACE,2BACEhC,KAAK,OACL4B,GAAG,aACH7B,KAAK,OACL2C,YAAY,qBACZC,MAAO5C,GAAQ,GACf6C,SAlCV,SAA0B1B,GACxBmB,EAAQnB,EAAIC,OAAOwB,QAkCXpE,UAAU,+BACVsE,UAAU,IAAIC,UAAU,KACxBC,QAAQ,wDACRC,UAAQ,IAEV,0BAAMzE,UAAU,oBACVqD,GAAG,qBAET,2BACE5B,KAAK,OACL4B,GAAG,oBACH7B,KAAK,QACL2C,YAAY,mDACZC,MAAOL,GAAe,GACtBM,SA7CV,SAAiC1B,GAC/BqB,EAAerB,EAAIC,OAAOwB,QA6ClBpE,UAAU,sCACVsE,UAAU,IAAIC,UAAU,MACxBC,QAAQ,yDACRC,UAAQ,IAEV,0BAAMzE,UAAU,oBACVqD,GAAG,+BCpEJ,SAASqB,EAAgBlE,GACtC,IAAMmE,EAAStE,IAAMuE,SAgBrB,OACE,kBAACpC,EAAD,CACEY,OAAQ5C,EAAM4C,OACdL,QARJ,WACEvC,EAAMuC,UACN4B,EAAOE,QAAQT,MAAQ,IAOrBd,SAlBJ,SAAsBX,GACpBA,EAAIsB,iBAEJzD,EAAMsE,eAAe,CACnB/C,OAAQ4C,EAAOE,QAAQT,QAEzBO,EAAOE,QAAQT,MAAQ,IAarB5C,KAAK,SACLgC,MAAM,wFACNE,OAAO,yDACPD,SACE,oCACE,2BAAOhC,KAAK,MACL4B,GAAG,oBACH7B,KAAK,SACLuD,IAAKJ,EACLR,YAAY,qGACZnE,UAAU,+BACVyE,UAAQ,IAEf,0BAAMzE,UAAU,oBACVqD,GAAG,+B,kBCmDN2B,EAAM,I,WAvFjB,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,+DAGCI,GACjB,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,wCAItB,IAAD,OAChB,OAAOC,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCF,QAASC,KAAKE,WAEbQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,oCAG1B,IAAD,OACZ,OAAOM,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCF,QAASC,KAAKE,WAEbQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,wCAGR,IAAD,OAAf9D,EAAe,EAAfA,KAAMS,EAAS,EAATA,MACrB,OAAO2D,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB1E,KAAMA,EACNS,MAAOA,MAGR4D,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,sCAGf,IAAD,OAAVvD,EAAU,EAAVA,OACb,OAAO6D,MAAM,GAAD,OAAIT,KAAKC,SAAT,oBAAqC,CAC/CW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBnE,OAAQA,MAGT8D,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,oCAGb,IAAD,OAAd9D,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KACjB,OAAOqE,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,OACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB1E,KAAMA,EACND,KAAMA,MAGPsE,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,2BAGpCa,GAAS,IAAD,OACX,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCe,GAAU,CACrDJ,OAAQ,MACRb,QAASC,KAAKE,WAEbQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,8BAGjCa,GAAS,IAAD,OACd,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCe,GAAU,CACrDJ,OAAQ,SACRb,QAASC,KAAKE,WAEbQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,Q,6BAGlCa,GAAS,IAAD,OACb,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,kBAA2Be,GAAU,CAC/CJ,OAAQ,SACRb,QAASC,KAAKE,WAEbQ,MAAK,SAAAP,GAAG,OAAI,EAAKQ,mBAAmBR,U,KAIxB,CC1FI,CACrBL,QAAS,8CACTC,QAAS,CACPkB,cAAe,uCACf,eAAgB,sBCDL,SAASC,EAAc7F,GAAQ,IAAD,EACnBH,IAAMwD,SAAS,IADI,mBACpCrC,EADoC,KAC9BsC,EAD8B,OAEnBzD,IAAMwD,SAAS,IAFI,mBAEpCtC,EAFoC,KAE9B+E,EAF8B,KA6B3C,OACE,kBAAC9D,EAAD,CACEY,OAAQ5C,EAAM4C,OACdL,QApBJ,WACEvC,EAAMuC,UACNe,EAAQ,IACRwC,EAAQ,KAkBNhD,SAfJ,SAAsBX,GACpBA,EAAIsB,iBAEJzD,EAAM0B,WAAW,CACfV,KAAMA,EACND,KAAMA,IAERuC,EAAQ,IACRwC,EAAQ,KAQN9E,KAAK,WACLgC,MAAM,gEACNE,OAAO,6CACPD,SACE,oCACE,2BACEhC,KAAK,OACL4B,GAAG,cACH7B,KAAK,OACL2C,YAAY,mDACZC,MAAO5C,EACP6C,SAzCV,SAA0B1B,GACxBmB,EAAQnB,EAAIC,OAAOwB,QAyCXpE,UAAU,+BACVsE,UAAU,IAAIC,UAAU,KACxBC,QAAQ,wDACRC,UAAQ,IAEV,0BAAMzE,UAAU,oBACVqD,GAAG,sBAET,2BACE5B,KAAK,MACL4B,GAAG,aACH7B,KAAK,OACL2C,YAAY,qGACZC,MAAO7C,EACP8C,SApDV,SAA0B1B,GACxB2D,EAAQ3D,EAAIC,OAAOwB,QAoDXpE,UAAU,+BACVyE,UAAQ,IAEV,0BAAMzE,UAAU,oBACVqD,GAAG,wBC+GJkD,MAtKf,WAAgB,IAAD,EAC+ClG,IAAMwD,UAAS,GAD9D,mBACN2C,EADM,KACkBC,EADlB,OAEyCpG,IAAMwD,UAAS,GAFxD,mBAEN6C,EAFM,KAEeC,EAFf,OAG6CtG,IAAMwD,UAAS,GAH5D,mBAGN+C,EAHM,KAGiBC,EAHjB,OAImCxG,IAAMwD,UAAS,GAJlD,mBAINiD,EAJM,KAIYC,EAJZ,OAK2B1G,IAAMwD,SAAS,IAL1C,mBAKNmD,EALM,KAKQC,EALR,OAMyB5G,IAAMwD,SAAS,IANxC,mBAMNpD,EANM,KAMOyG,EANP,KAmCb,SAASC,IACPN,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAoB,GACpBE,EAAgB,IAhClB5G,IAAMoC,WAAU,WACduC,EAAIoC,cACDvB,MAAK,SAAAP,GACJ4B,EAAe5B,MAEhB+B,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,SAE1B,IAhBU,MAiEajH,IAAMwD,SAAS,IAjE5B,mBAiEN1B,EAjEM,KAiECsF,EAjED,KAmHb,OAhDApH,IAAMoC,WAAU,WACduC,EAAI0C,kBACD7B,MAAK,SAAAP,GACJmC,EAASnC,MAEV+B,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,SAE1B,IAyCD,kBAAClH,EAAmBuH,SAApB,CAA6BvD,MAAO3D,GAClC,yBAAKT,UAAU,QACb,yBAAKA,UAAU,WACb,kBAACD,EAAD,MACA,kBAAC8B,EAAD,CACEG,cAnGV,WACEyE,GAA0B,IAmGlBvE,WAhGV,WACEyE,GAAuB,IAgGf7E,aAzGV,WACE+E,GAAyB,IAyGjBvF,YA9FV,SAAyBV,GACvBmG,GAAoB,GACpBE,EAAgBrG,IA6FRuB,MAAOA,EACPT,WAjDV,SAAwBd,IACNA,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAChDkE,EAAI4C,QAAQhH,EAAKE,KAAOkE,EAAI6C,KAAKjH,EAAKE,MAC9C+E,MAAK,SAACiC,GACL,IAAMC,EAAW5F,EAAMC,KAAI,SAACC,GAAD,OACzBA,EAAYvB,MAAQF,EAAKE,IAAMgH,EAAYzF,KAE7CoF,EAASM,MAEVV,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,QAwCnB1F,aApCV,SAA0BhB,GACxBoE,EAAIgD,OAAOpH,EAAKE,KACb+E,MAAK,WACJ,IAAMkC,EAAW5F,EAAM8F,QAAO,SAAA5F,GAAW,OACvCA,EAAYvB,MAAQF,EAAKE,OAE3B2G,EAASM,MAEVV,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,UA6BrB,kBAAC/E,EAAD,MAEA,kBAACqB,EAAD,CACER,OAAQoD,EACRzD,QAASoE,EACTjD,aA3FV,SAA0BgE,GACxBlD,EAAImD,eAAeD,GAChBrC,MAAK,SAACuC,GACLlB,EAAekB,GACfjB,OAEDE,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,UAuFrB,kBAACjB,EAAD,CACEjD,OAAQsD,EACR3D,QAASoE,EACTjF,WApCV,SAA8BmG,GAC5BrD,EAAIsD,WAAWD,GACZxC,MAAK,SAAC0C,GACLd,EAAS,CAACc,GAAF,mBAAcpG,KACtBgF,OAEDE,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,UAgCrB,kBAAC5C,EAAD,CACEtB,OAAQwD,EACR7D,QAASoE,EACTrC,eA5FV,YAAuC,IAAV/C,EAAS,EAATA,OAC3BiD,EAAIwD,aAAa,CAACzG,WACf8D,MAAK,SAACuC,GACLlB,EAAekB,GACfjB,OAEDE,OAAM,SAAAC,GACLC,QAAQC,IAAR,gDAAuBF,UAwFrB,kBAAC9E,EAAD,CACEhB,KAAK,SACLgC,MAAM,2DACNE,OAAO,iBAGT,kBAACC,EAAD,CACEP,OAAQ0D,EACR/D,QAASoE,EACTvG,KAAMoG,QCtKlByB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAED3F,SAASC,eAAe,U,sCCT3B2F,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.a08f76a3.chunk.js","sourcesContent":["import logoPath from \"../images/logo.svg\";\r\nimport React from \"react\";\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logoPath}\r\n                 alt=\"Логотип сервиса Mesto\"\r\n                 className=\"header__logo\"/>\r\n        </header>\r\n    )\r\n}","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? '' : 'element__delete_hidden'}`;\n\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? 'element__like_active' : ''}`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  return(\n      <li className=\"element\">\n        <img className=\"element__image\"\n             onClick={handleClick}\n             src={props.card.link}\n             alt={`Фото ${props.card.name}`}\n        />\n        <div className=\"element__сaption\">\n          <h3 className=\"element__title\">{props.card.name}</h3>\n          <div className=\"element__likes\">\n            <button type=\"button\"\n                    className={cardLikeButtonClassName}\n                    onClick={handleLikeClick}\n            />\n            <p className=\"element__like-counter\">{props.card.likes.length}</p>\n          </div>\n        </div>\n        <button type=\"button\"\n                className={cardDeleteButtonClassName}\n                onClick={handleCardDelete}\n        />\n      </li>\n  )\n}\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__main\">\n          <div className=\"profile__avatar-container\"\n               onClick={props.onEditAvatar}>\n            <img\n              alt=\"Аватар профиля\"\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n            />\n            <div className=\"profile__avatar_overlay\"/>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__row\">\n              <h2 className=\"profile__name\">{currentUser.name}</h2>\n              <button\n                onClick={props.onEditProfile}\n                type=\"button\"\n                className=\"profile__edit\">\n              </button>\n            </div>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          type=\"button\"\n          className=\"profile__add\">\n        </button>\n      </section>\n\n      <section>\n        <ul className=\"elements\">\n          {props.cards.map(currentCard => (\n            <Card\n              card={currentCard}\n              key={currentCard._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return(\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n      </footer>\r\n  )\r\n}","import React from \"react\";\n\nexport default function PopupWithForm(props) {\n  React.useEffect(() => {\n    function handleOverlayClose(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        props.onClose(evt);\n      }\n    }\n\n    document\n      .getElementById(`popup__${props.name}`)\n      .addEventListener('click', handleOverlayClose)\n\n    return() => {\n      document\n        .getElementById(`popup__${props.name}`)\n        .removeEventListener('click', handleOverlayClose)\n    }\n  }, [])\n\n  return (\n      <section\n        className={`popup ${props.isOpen && 'popup_opened'}`}\n        id={`popup__${props.name}`}\n      >\n        <form className=\"form\"\n              onSubmit={props.onSubmit}\n              noValidate\n        >\n          <h3 className=\"form__title\">{props.title}</h3>\n          {props.children}\n          <button type=\"submit\"\n                  name={props.button}\n                  className=\"form__save\"\n          >\n            {props.button}\n          </button>\n          <button onClick={props.onClose}\n                  type=\"button\"\n                  className=\"popup__close\"\n          >\n          </button>\n        </form>\n      </section>\n  )\n}\n","import React from \"react\";\n\nexport default function ImagePopup(props) {\n  React.useEffect(() => {\n    function handleOverlayClose(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        props.onClose(evt);\n      }\n    }\n\n    document\n      .getElementById('popup__enlarged')\n      .addEventListener('click', handleOverlayClose)\n\n    return() => {\n      document\n        .getElementById('popup__enlarged')\n        .removeEventListener('click', handleOverlayClose)\n    }\n  }, [])\n\n  return (\n      <section className={`popup ${props.isOpen && 'popup_opened'}`}\n               id=\"popup__enlarged\">\n        <div className=\"popup__enlarged\">\n          <img className=\"popup__image\"\n               src={props.card.link}\n               alt={props.card.name}/>\n          <p className=\"popup__place\">{props.card.name}</p>\n          <button type=\"button\"\n                  className=\"popup__close\"\n                  onClick={props.onClose}\n          >\n          </button>\n        </div>\n      </section>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      button=\"Сохранить\"\n      children={(\n        <>\n          <input\n            type=\"text\"\n            id=\"name-input\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            value={name || ''}\n            onChange={handleNameChange}\n            className=\"form__input form__input_name\"\n            minLength=\"2\" maxLength=\"40\"\n            pattern=\"^[A-Za-zА-Яа-яЁё \\-]+$\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"name-input-error\">\n          </span>\n          <input\n            type=\"text\"\n            id=\"description-input\"\n            name=\"about\"\n            placeholder=\"Описание\"\n            value={description || ''}\n            onChange={handleDescriptionChange}\n            className=\"form__input form__input_description\"\n            minLength=\"2\" maxLength=\"200\"\n            pattern=\"^[A-Za-zА-Яа-яЁё, \\-]+$\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"description-input-error\">\n          </span>\n        </>\n      )}\n    />\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function EditAvatarPopup(props) {\n  const urlRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onAvatarUpdate({\n      avatar: urlRef.current.value,\n    })\n    urlRef.current.value = '';\n  }\n\n  function handleClose() {\n    props.onClose();\n    urlRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      button=\"Сохранить\"\n      children={(\n        <>\n          <input type=\"url\"\n                 id=\"avatar-link-input\"\n                 name=\"avatar\"\n                 ref={urlRef}\n                 placeholder=\"Ссылка на картинку\"\n                 className=\"form__input form__input_link\"\n                 required\n          />\n          <span className=\"form__input-error\"\n                id=\"avatar-link-input-error\">\n          </span>\n        </>\n      )}\n    />\n  )\n}\n","import { apiInfo } from \"./utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponseData(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  setNewUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  setNewAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  like(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  dislike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  delete(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n}\n\nexport const api = new Api(apiInfo);\n\n\n","export const apiInfo = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n  headers: {\r\n    authorization: '46554895-2128-4943-bcbf-ffff5703844f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\n\r\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  function handleClose() {\n    props.onClose();\n    setName('');\n    setLink('');\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link\n    })\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      name=\"new-card\"\n      title=\"Новое место\"\n      button=\"Создать\"\n      children={(\n        <>\n          <input\n            type=\"text\"\n            id=\"place-input\"\n            name=\"name\"\n            placeholder=\"Название\"\n            value={name}\n            onChange={handleNameChange}\n            className=\"form__input form__input_name\"\n            minLength=\"2\" maxLength=\"30\"\n            pattern=\"^[A-Za-zА-Яа-яЁё \\-]+$\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"place-input-error\">\n          </span>\n          <input\n            type=\"url\"\n            id=\"link-input\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            value={link}\n            onChange={handleLinkChange}\n            className=\"form__input form__input_link\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"link-input-error\">\n          </span>\n        </>\n      )}\n    />\n  )\n}\n","import React from 'react';\nimport '../index.css';\nimport Header from \"./header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`);\n      })\n  }, [])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(newUserInfo) {\n    api.setNewUserInfo(newUserInfo)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.setNewAvatar({avatar})\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(res => {\n        setCards(res);\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    (isLiked ? api.dislike(card._id) : api.like(card._id))\n      .then((likedCard) => {\n        const newCards = cards.map((currentCard) =>\n          currentCard._id === card._id ? likedCard : currentCard\n        );\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }\n\n  function handleCardDelete(card) {\n    api.delete(card._id)\n      .then(() => {\n        const newCards = cards.filter(currentCard =>\n          currentCard._id !== card._id\n        );\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }\n\n  function handleAddPlaceSubmit(newCardInfo) {\n    api.addNewCard(newCardInfo)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"content\">\n          <Header/>\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer/>\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onAvatarUpdate={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            name=\"delete\"\n            title=\"Вы уверены?\"\n            button=\"Да\"\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  ,document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";"],"sourceRoot":""}